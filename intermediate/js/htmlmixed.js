CodeMirror.defineMode("htmlmixed",function(g){function c(b,a){var c=d.token(b,a.htmlState);if(c=="tag"&&b.current()==">"&&a.htmlState.context)if(/^script$/i.test(a.htmlState.context.tagName))a.token=h,a.localState=e.startState(d.indent(a.htmlState,"")),a.mode="javascript";else if(/^style$/i.test(a.htmlState.context.tagName))a.token=i,a.localState=f.startState(d.indent(a.htmlState,"")),a.mode="css";return c}function j(b,a,c){var d=b.current(),a=d.search(a);a>-1&&b.backUp(d.length-a);return c}function h(b,
a){return b.match(/^<\/\s*script\s*>/i,!1)?(a.token=c,a.localState=null,a.mode="html",c(b,a)):j(b,/<\/\s*script\s*>/,e.token(b,a.localState))}function i(b,a){return b.match(/^<\/\s*style\s*>/i,!1)?(a.token=c,a.localState=null,a.mode="html",c(b,a)):j(b,/<\/\s*style\s*>/,f.token(b,a.localState))}var d=CodeMirror.getMode(g,{name:"xml",htmlMode:!0}),e=CodeMirror.getMode(g,"javascript"),f=CodeMirror.getMode(g,"css");return{startState:function(){var b=d.startState();return{token:c,localState:null,mode:"html",
htmlState:b}},copyState:function(b){if(b.localState)var a=CodeMirror.copyState(b.token==i?f:e,b.localState);return{token:b.token,localState:a,mode:b.mode,htmlState:CodeMirror.copyState(d,b.htmlState)}},token:function(b,a){return a.token(b,a)},indent:function(b,a){return b.token==c||/^\s*<\//.test(a)?d.indent(b.htmlState,a):b.token==h?e.indent(b.localState,a):f.indent(b.localState,a)},compareStates:function(b,a){return b.mode!=a.mode?!1:b.localState?CodeMirror.Pass:d.compareStates(b.htmlState,a.htmlState)},
electricChars:"/{}:"}},"xml","javascript","css");CodeMirror.defineMIME("text/html","htmlmixed");
